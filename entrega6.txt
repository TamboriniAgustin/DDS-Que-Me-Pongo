@startuml
class Usuario{
   ...
   String email
   List<Sugerencia> sugerenciasRealizadas
  
   ...()
}

abstract class Sugerencia {
   Prenda prenda
   Guardarropa guardarropa
   Usuario destinatario

   void aceptar()
   void rechazar()
}

class Clima{
   String ciudad
   List<Sugerencia> sugerenciasDelSistema

   void actualizarClima()
   void nuevaSugerencia(Sugerencia sugerencia)
   void eliminarSugerencia(Sugerencia sugerencia)
}

class EstadoDelTiempo{
   int temperatura
   int porcentajeHumedad
}
class AlertaMeteorologica{
   List <AlertaMeteorologicaObserver> listaNotificaciones

   void sumarNuevaNotificacion(AlertaMeteorologicaObserver notificacion)
   void quitarNotificacion(AlertaMeteorologicaObserver notificacion)
   void notificarCambios()
}

interface ServicioMeteorologico{
   EstadoDelTiempo obtenerCondicionesClimaticas()
}
class ServicioMeteorologicoMock{
   EstadoDelTiempo obtenerCondicionesClimaticas()
}
class ServicioMeteorologicoAccuWeather{
   EstadoDelTiempo obtenerCondicionesClimaticas()
}
class AccuWeatherAPI{
   Map<String, Object> getClima(String ciudad)
   Map<String, Object> getAlertas(String ciudad)
}

interface AlertaMeteorologicaObserver{
   void notificar(AlertaMeteorologica)
}
class Tormenta{
   void notificar(AlertaMeteorologica)
}
class Granizo{
   void notificar(AlertaMeteorologica)
}
class NuevaAlertaMeteorologica{
   void notificar(AlertaMeteorologica)
}

class NotificationService{
   void notify(String text)
}
class MailSender{
   void send(String mail, String message)
}

Usuario -Right-> "*" Sugerencia

Sugerencia "*" <-- Clima

Clima ..> EstadoDelTiempo
Clima ..> AlertaMeteorologica

EstadoDelTiempo ..> ServicioMeteorologico
AlertaMeteorologica ..> ServicioMeteorologico

ServicioMeteorologicoMock .up.|> ServicioMeteorologico
ServicioMeteorologicoAccuWeather .up.|> ServicioMeteorologico
ServicioMeteorologicoAccuWeather --> AccuWeatherAPI


AlertaMeteorologica -Left-> "*" AlertaMeteorologicaObserver
Tormenta .up.|> AlertaMeteorologicaObserver
Granizo .up.|> AlertaMeteorologicaObserver
NuevaAlertaMeteorologica .up.|> AlertaMeteorologicaObserver

AlertaMeteorologicaObserver .up.> NotificationService
AlertaMeteorologicaObserver .up.> MailSender
@enduml